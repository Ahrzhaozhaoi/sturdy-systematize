<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    let isPrime = (function () {
      let hash = {}
      return function (num) {
        
        if(!isNaN(num) && num >=1 && parseInt(num) === num ) {
          if (num <= 3) {
            hash[num] = true
            return true
          }
          else if (hash[num] !== undefined) {
            console.log('不用遍历')
            return hash[num]
          } else {
            if (num % 2 === 0) {
              hash[num] = false
              return false
            } else {
              console.log('用遍历')
              for (let i=3;i<Math.sqrt(num);i+=2) {
                if (num % i === 0) {
                  hash[num] = false
                  return false
                }
              }
              hash[num] = true
              return true
            }
          }
        } else {
          return new Error('请输入正整数')
        }
      }
    })()
    console.log(isPrime(1.1))
    console.log(isPrime(117))
    console.log(isPrime(117))
  </script>
</body>
</html>